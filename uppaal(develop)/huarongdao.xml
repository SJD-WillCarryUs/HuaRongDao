<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
	<declaration>// Place global declarations here.

int position[20] = { 2, 1, 1, 3, 2, 1, 1, 3, 4, 6, 6, 5, 4, 8, 9, 5, 7, 0, 0,10};


</declaration>
	<template>
		<name x="5" y="5">a</name>
		<declaration>// Place local declarations here.

void move(int N,int i){
    int x = 0;
    int p=0;
    int t[1] = {1};
    while(position[p]!=N){
        p++;
        if(p==20){
            t[N];
}
    }
    x=p;

    if(i == 1){  //move left
        if(x%4==0){
            return;
        }

        if(N==2||N==3||N==4||N==5){    //the block is 2*1
            if(position[x-1]==0&amp;&amp;position[x+3]==0){
                position[x-1]=N;
                position[x+3]=N;
                position[x]=0;
                position[x+4]=0;
            }
        }
        else if (N==7||N==8||N==9||N==10)  // the block is 1*1
        {
            if(position[x-1]==0){
                position[x-1]=N;
                position[x]=0;
            }
        }
        else if (N==1)  // the block is 2*2
        {
            if(position[x-1]==0&amp;&amp;position[x+3]==0){
                position[x-1]=N;
                position[x+3]=N;
                position[x+1]=0;
                position[x+5]=0;
            }
        }
        else if (N==6)   // the block is 1*2
        {
            if(position[x-1]==0){
                position[x-1]=N;
                position[x+1]=0;
            }
        }   
    }
    
    else if (i==2) //move right
    {
        if(x%4==3){
            return;
        }
        if(N==2||N==3||N==4||N==5){    // the block is 2*1
            if(position[x+1]==0&amp;&amp;position[x+5]==0){
                position[x+1]=N;
                position[x+5]=N;
                position[x]=0;
                position[x+4]=0;
            }
        }
        else if (N==7||N==8||N==9||N==10)  // the block is 1*1
        {
            if(position[x+1]==0){
                position[x+1]=N;
                position[x]=0;
            }
        }
        else if (N==1)  // the block is 2*2
        {
            if((x+1)%3!=0){
                if(position[x+2]==0&amp;&amp;position[x+6]==0){
                    position[x+2]=N;
                    position[x+6]=N;
                    position[x]=0;
                    position[x+4]=0;
                }
            }
            
        }
        else if (N==6)  //  the block is 1*2
        {
            if((x+1)%4!=3){
                if(position[x+2]==0){
                    position[x+2]=N;
                    position[x]=0;
                }
            }
        }
    }

else if (i==3) //move up
    {
        if(x&lt;=3){
            return;
        }
        if(N==2||N==3||N==4||N==5){    // the block is 2*1
            if(position[x-4]==0){
                position[x-4]=N;
                position[x+4]=0;
            }
        }
        else if (N==7||N==8||N==9||N==10)  // the block is 1*1
        {
            if(position[x-4]==0){
                position[x-4]=N;
                position[x]=0;
            }
        }
        else if (N==1)  // the block is 2*2
        {
            if(position[x-4]==0&amp;&amp;position[x-3]==0){
                position[x-4]=N;
                position[x-3]=N;
                position[x+4]=0;
                position[x+5]=0;
            }
        }
        else if (N==6)  //  the block is 1*2
        {
            if(position[x-4]==0&amp;&amp;position[x-3]==0){
                position[x-4]=N;
                position[x-3]=N;
                position[x]=0;
                position[x+1]=0;
            }
        }
    }
    
else if (i==4) //move down
    {
        if(x&gt;=16){
            return;
        }
        if(N==2||N==3||N==4||N==5){    // the block is 2*1
            if(x&lt;12){
               if(position[x+8]==0){
                position[x+8]=N;
                position[x+4]=N;
                position[x]=0;
                }
            }
            
        }
        else if (N==10||N==7||N==8||N==9)  // the block is 1*1
        {
            if(position[x+4]==0){
                position[x+4]=N;
                position[x]=0;
            }
        }
        else if (N==1)  // the block is 2*2
        {
            if(x&lt;11){
                if(position[x+8]==0&amp;&amp;position[x+9]==0){
                    position[x+8]=N;
                    position[x+9]=N;
                    position[x]=0;
                    position[x+1]=0;
                }
            }
}    

        else if (N==6)  //  the block is 1*2
        {
            if(position[x+4]==0&amp;&amp;position[x+5]==0){
                position[x+4]=N;
                position[x+5]=N;
                position[x]=0;
                position[x+1]=0;
            }
        }
    }
}

int judge(){
    if(position[17]==1&amp;&amp;position[18]==1){
        return 1;
    }
    else{
        return 0;
    }
}
</declaration>
		<location id="id0" x="305" y="93">
			<name x="330" y="76">no_finish_state</name>
		</location>
		<location id="id1" x="305" y="408">
			<name x="339" y="391">finish_state</name>
		</location>
		<init ref="id0"/>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="157">judge()==0</label>
			<label kind="assignment" x="323" y="191">move(9,1)</label>
			<nail x="568" y="289"/>
			<nail x="398" y="340"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="152">judge()==0</label>
			<label kind="assignment" x="323" y="186">move(9,2)</label>
			<nail x="542" y="280"/>
			<nail x="406" y="323"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="148">judge()==0</label>
			<label kind="assignment" x="323" y="182">move(9,3)</label>
			<nail x="525" y="272"/>
			<nail x="406" y="306"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="140">judge()==0</label>
			<label kind="assignment" x="323" y="174">move(9,4)</label>
			<nail x="500" y="255"/>
			<nail x="415" y="289"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="131">judge()==0</label>
			<label kind="assignment" x="323" y="165">move(8,1)</label>
			<nail x="474" y="238"/>
			<nail x="423" y="263"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="123">judge()==0</label>
			<label kind="assignment" x="323" y="157">move(8,2)</label>
			<nail x="457" y="221"/>
			<nail x="415" y="238"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="348" y="123">judge()==0</label>
			<label kind="assignment" x="348" y="157">move(8,3)</label>
			<nail x="330" y="110"/>
			<nail x="432" y="204"/>
			<nail x="406" y="221"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="101">judge()==0</label>
			<label kind="assignment" x="323" y="135">move(8,4)</label>
			<nail x="406" y="178"/>
			<nail x="389" y="195"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="-25">judge()==0</label>
			<label kind="assignment" x="323" y="9">move(7,1)</label>
			<nail x="559" y="-76"/>
			<nail x="559" y="238"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="-17">judge()==0</label>
			<label kind="assignment" x="323" y="17">move(7,2)</label>
			<nail x="542" y="-59"/>
			<nail x="542" y="221"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="0">judge()==0</label>
			<label kind="assignment" x="323" y="34">move(7,3)</label>
			<nail x="500" y="-25"/>
			<nail x="500" y="195"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="12">judge()==0</label>
			<label kind="assignment" x="323" y="46">move(7,4)</label>
			<nail x="466" y="0"/>
			<nail x="466" y="170"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="21">judge()==0</label>
			<label kind="assignment" x="323" y="55">move(6,1)</label>
			<nail x="449" y="17"/>
			<nail x="449" y="144"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="29">judge()==0</label>
			<label kind="assignment" x="323" y="63">move(6,2)</label>
			<nail x="423" y="34"/>
			<nail x="423" y="127"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="42">judge()==0</label>
			<label kind="assignment" x="323" y="76">move(6,3)</label>
			<nail x="389" y="59"/>
			<nail x="389" y="110"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="46">judge()==0</label>
			<label kind="assignment" x="323" y="80">move(6,4)</label>
			<nail x="381" y="68"/>
			<nail x="381" y="93"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="93" y="216">judge()==0</label>
			<label kind="assignment" x="93" y="250">move(5,1)</label>
			<nail x="279" y="340"/>
			<nail x="75" y="161"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="119" y="203">judge()==0</label>
			<label kind="assignment" x="119" y="237">move(5,2)</label>
			<nail x="279" y="314"/>
			<nail x="101" y="161"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="144" y="191">judge()==0</label>
			<label kind="assignment" x="144" y="225">move(5,3)</label>
			<nail x="279" y="289"/>
			<nail x="126" y="161"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="170" y="178">judge()==0</label>
			<label kind="assignment" x="170" y="212">move(5,4)</label>
			<nail x="279" y="263"/>
			<nail x="152" y="161"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="195" y="165">judge()==0</label>
			<label kind="assignment" x="195" y="199">move(4,1)</label>
			<nail x="279" y="238"/>
			<nail x="177" y="161"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="238" y="93">judge()==0</label>
			<label kind="assignment" x="238" y="127">move(4,2)</label>
			<nail x="279" y="204"/>
			<nail x="220" y="161"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="292" y="101">judge()==0</label>
			<label kind="assignment" x="292" y="135">move(4,3)</label>
			<nail x="279" y="178"/>
			<nail x="245" y="153"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="297" y="84">judge()==0</label>
			<label kind="assignment" x="297" y="118">move(4,4)</label>
			<nail x="288" y="144"/>
			<nail x="271" y="136"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="-60" y="12">judge()==0</label>
			<label kind="assignment" x="-60" y="46">move(3,1)</label>
			<nail x="-78" y="0"/>
			<nail x="177" y="-229"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="-9" y="17">judge()==0</label>
			<label kind="assignment" x="-9" y="51">move(3,2)</label>
			<nail x="-27" y="9"/>
			<nail x="177" y="-187"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="34" y="21">judge()==0</label>
			<label kind="assignment" x="34" y="55">move(3,3)</label>
			<nail x="16" y="17"/>
			<nail x="177" y="-136"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="76" y="25">judge()==0</label>
			<label kind="assignment" x="76" y="59">move(3,4)</label>
			<nail x="58" y="26"/>
			<nail x="186" y="-93"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="119" y="29">judge()==0</label>
			<label kind="assignment" x="119" y="63">move(2,1)</label>
			<nail x="101" y="34"/>
			<nail x="203" y="-59"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="153" y="33">judge()==0</label>
			<label kind="assignment" x="153" y="67">move(2,2)</label>
			<nail x="135" y="42"/>
			<nail x="203" y="-25"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="187" y="38">judge()==0</label>
			<label kind="assignment" x="187" y="72">move(2,3)</label>
			<nail x="169" y="51"/>
			<nail x="211" y="0"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="212" y="38">judge()==0</label>
			<label kind="assignment" x="212" y="72">move(2,4)</label>
			<nail x="194" y="51"/>
			<nail x="211" y="26"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="314" y="-301">judge()==0</label>
			<label kind="assignment" x="314" y="-267">move(1,1)</label>
			<nail x="296" y="-348"/>
			<nail x="644" y="-187"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="323" y="-280">judge()==0</label>
			<label kind="assignment" x="323" y="-246">move(1,2)</label>
			<nail x="305" y="-314"/>
			<nail x="602" y="-178"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="331" y="-242">judge()==0</label>
			<label kind="assignment" x="331" y="-208">move(1,3)</label>
			<nail x="313" y="-263"/>
			<nail x="551" y="-153"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="372" y="-204">judge()==0</label>
			<label kind="assignment" x="372" y="-187">move(1,4)</label>
			<nail x="322" y="-213"/>
			<nail x="500" y="-128"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="340" y="-170">judge()==0</label>
			<label kind="assignment" x="340" y="-136">move(10,1)</label>
			<nail x="322" y="-170"/>
			<nail x="457" y="-102"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="339" y="-111">judge()==0</label>
			<label kind="assignment" x="340" y="-89">move(10,2)</label>
			<nail x="322" y="-111"/>
			<nail x="423" y="-68"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="339" y="-60">judge()==0</label>
			<label kind="assignment" x="340" y="-43">move(10,3)</label>
			<nail x="322" y="-60"/>
			<nail x="398" y="-26"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id0"/>
			<label kind="guard" x="339" y="-34">judge()==0</label>
			<label kind="assignment" x="339" y="-17">move(10,4)</label>
			<nail x="322" y="-9"/>
			<nail x="364" y="8"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id1"/>
			<label kind="guard" x="313" y="136">judge()==1</label>
		</transition>
	</template>
	<system>// Place template instantiations here.
Process = a();
// List one or more processes to be composed into a system.
system Process;
    </system>
	<queries>
		<query>
			<formula>E&lt;&gt; Process.finish_state</formula>
			<comment></comment>
		</query>
	</queries>
</nta>
